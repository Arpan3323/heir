load("//bazel:symlink_files.bzl", "symlink_files")
load("@pybind11_bazel//:build_defs.bzl", "pybind_extension")

py_binary(
    name = "hello_mlir",
    srcs = [
        "hello_mlir.py",
    ],
    python_version = "PY3",
    srcs_version = "PY3",
    data = [
        # C extensions/shlibs
        "@llvm-project//mlir/python:mlir/_mlir_libs/_mlir.so",
#        "@llvm-project//mlir/python:mlir/_mlir_libs/_mlirDialectsLinalg.so",
#        "@llvm-project//mlir/python:mlir/_mlir_libs/_mlirDialectsQuant.so",
#        "@llvm-project//mlir/python:mlir/_mlir_libs/_mlirDialectsSparseTensor.so",
#        "@llvm-project//mlir/python:mlir/_mlir_libs/_mlirExecutionEngine.so",
#        "@llvm-project//mlir/python:mlir/_mlir_libs/_mlirLinalgPasses.so",
        # to avoid "func.func" created with unregistered dialect
#        "@llvm-project//mlir/python:mlir/_mlir_libs/_mlirRegisterEverything.so",
        # py sources files
        "@llvm-project//mlir/python:AMDGPUOpsPyFiles",
        "@llvm-project//mlir/python:AffineOpsPyFiles",
        "@llvm-project//mlir/python:ArithOpsPyFiles",
        "@llvm-project//mlir/python:BufferizationOpsPyFiles",
        "@llvm-project//mlir/python:BuiltinOpsPyFiles",
        "@llvm-project//mlir/python:ComplexOpsPyFiles",
        "@llvm-project//mlir/python:ControlFlowOpsPyFiles",
        "@llvm-project//mlir/python:DialectCorePyFiles",
        "@llvm-project//mlir/python:ExecutionEnginePyFiles",
        "@llvm-project//mlir/python:ExtrasPyFiles",
        "@llvm-project//mlir/python:FuncPyFiles",
        "@llvm-project//mlir/python:GPUOpsPackagePassesPyFiles",
        "@llvm-project//mlir/python:GPUOpsPackagePyFiles",
        "@llvm-project//mlir/python:GPUOpsPyFiles",
        "@llvm-project//mlir/python:IRPyFiles",
        "@llvm-project//mlir/python:LLVMOpsPyFiles",
        "@llvm-project//mlir/python:LinalgOpsPackageOpDSLLangPyFiles",
        "@llvm-project//mlir/python:LinalgOpsPackageOpDSLOpsPyFiles",
        "@llvm-project//mlir/python:LinalgOpsPackageOpDSLPyFiles",
        "@llvm-project//mlir/python:LinalgOpsPackagePassesPyFiles",
        "@llvm-project//mlir/python:LinalgOpsPackagePyFiles",
        "@llvm-project//mlir/python:LinalgOpsPyFiles",
        "@llvm-project//mlir/python:MLProgramOpsPyFiles",
        "@llvm-project//mlir/python:MathOpsPyFiles",
        "@llvm-project//mlir/python:MemRefOpsPyFiles",
        "@llvm-project//mlir/python:MlirLibsPyFiles",
        "@llvm-project//mlir/python:NVGPUOpsPyFiles",
        "@llvm-project//mlir/python:NVVMOpsPyFiles",
        "@llvm-project//mlir/python:OpenMPOpsPyFiles",
        "@llvm-project//mlir/python:PDLPyFiles",
        "@llvm-project//mlir/python:PassManagerPyFiles",
        "@llvm-project//mlir/python:PythonTestPyFiles",
        "@llvm-project//mlir/python:QuantPyFiles",
        "@llvm-project//mlir/python:ROCDLOpsPyFiles",
        "@llvm-project//mlir/python:RuntimePyFiles",
        "@llvm-project//mlir/python:SCFPyFiles",
        "@llvm-project//mlir/python:SPIRVOpsPyFiles",
        "@llvm-project//mlir/python:ShapeOpsPyFiles",
        "@llvm-project//mlir/python:SparseTensorOpsPyFiles",
        "@llvm-project//mlir/python:TensorOpsPyFiles",
        "@llvm-project//mlir/python:TosaOpsPyFiles",
        "@llvm-project//mlir/python:TransformExtrasPackagePyFiles",
        "@llvm-project//mlir/python:TransformOpsPackagePyFiles",
        "@llvm-project//mlir/python:TransformOpsPyFiles",
        "@llvm-project//mlir/python:VectorOpsPyFiles",
        # generated py sources files
        "@llvm-project//mlir/python:AMDGPUOpsPyGen",
        "@llvm-project//mlir/python:AffineOpsPyGen",
        "@llvm-project//mlir/python:ArithOpsPyGen",
        "@llvm-project//mlir/python:BufferizationEnumPyGen",
        "@llvm-project//mlir/python:BufferizationOpsPyGen",
        "@llvm-project//mlir/python:BufferizationTransformOpsPyGen",
        "@llvm-project//mlir/python:BuiltinOpsPyGen",
        "@llvm-project//mlir/python:ComplexOpsPyGen",
        "@llvm-project//mlir/python:ControlFlowOpsPyGen",
        "@llvm-project//mlir/python:FuncPyGen",
        "@llvm-project//mlir/python:GPUOpsPyGen",
        "@llvm-project//mlir/python:GPUTransformOpsPyGen",
        "@llvm-project//mlir/python:LLVMOpsPyGen",
        "@llvm-project//mlir/python:LinalgOpsPyGen",
        "@llvm-project//mlir/python:LoopTransformOpsPyGen",
        "@llvm-project//mlir/python:MLProgramOpsPyGen",
        "@llvm-project//mlir/python:MathOpsPyGen",
        "@llvm-project//mlir/python:MemRefOpsPyGen",
        "@llvm-project//mlir/python:MemRefTransformOpsPyGen",
        "@llvm-project//mlir/python:NVGPUOpsPyGen",
        "@llvm-project//mlir/python:NVGPUTransformOpsPyGen",
        "@llvm-project//mlir/python:NVVMOpsPyGen",
        "@llvm-project//mlir/python:OpenMPOpsPyGen",
        "@llvm-project//mlir/python:PDLPyGen",
        "@llvm-project//mlir/python:PDLTransformOpsPyGen",
        "@llvm-project//mlir/python:PythonTestPyGen",
        "@llvm-project//mlir/python:ROCDLOpsPyGen",
        "@llvm-project//mlir/python:SCFPyGen",
        "@llvm-project//mlir/python:SPIRVOpsPyGen",
        "@llvm-project//mlir/python:ShapeOpsPyGen",
        "@llvm-project//mlir/python:SparseTensorEnumPyGen",
        "@llvm-project//mlir/python:SparseTensorOpsPyGen",
        "@llvm-project//mlir/python:SparseTensorTransformOpsPyGen",
        "@llvm-project//mlir/python:StructureTransformEnumPyGen",
        "@llvm-project//mlir/python:StructuredTransformOpsPyGen",
        "@llvm-project//mlir/python:TensorOpsPyGen",
        "@llvm-project//mlir/python:TensorTransformOpsPyGen",
        "@llvm-project//mlir/python:TosaOpsPyGen",
        "@llvm-project//mlir/python:TransformEnumPyGen",
        "@llvm-project//mlir/python:TransformOpsPyGen",
        "@llvm-project//mlir/python:VectorAttributesPyGen",
        "@llvm-project//mlir/python:VectorOpsPyGen",
        "@llvm-project//mlir/python:VectorTransformEnumPyGen",
        "@llvm-project//mlir/python:VectorTransformOpsPyGen",
    ],
)
